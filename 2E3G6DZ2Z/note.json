{
  "paragraphs": [
    {
      "text": "events \u003d LOAD \u0027/mount/homework2/code/sample_test/sample_events.csv\u0027 USING PigStorage(\u0027,\u0027) AS (patientid:int, eventid:chararray, eventdesc:chararray, timestamp:chararray, value:float);\nevents \u003d FOREACH events GENERATE patientid, eventid, ToDate(timestamp, \u0027yyyy-MM-dd\u0027) AS etimestamp, value;\nevents_count \u003d FOREACH (GROUP events ALL) GENERATE COUNT(events);\nDUMP events_count;\npersons_count \u003d FOREACH (GROUP events BY patientid) GENERATE group AS patientid;\nDESCRIBE persons_count;\npersons_count \u003d FOREACH (GROUP persons_count ALL) GENERATE COUNT(persons_count);\nDUMP persons_count;\n",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 19:46:32.138",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "col_0": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "(2763)\npersons_count: {patientid: int}\n(5)\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548425491669_-2008798471",
      "id": "20190125-141131_1953682147",
      "dateCreated": "2019-01-25 14:11:31.669",
      "dateStarted": "2019-01-27 19:46:32.208",
      "dateFinished": "2019-01-27 19:46:34.273",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "mortality \u003d LOAD \u0027/mount/homework2/code/sample_test/sample_mortality.csv\u0027 USING PigStorage(\u0027,\u0027) as (patientid:int, timestamp:chararray, label:int);\nmortality \u003d FOREACH mortality GENERATE patientid, ToDate(timestamp, \u0027yyyy-MM-dd\u0027) AS mtimestamp, label;\nmortality_count \u003d FOREACH (GROUP mortality ALL) GENERATE COUNT (mortality);\nDUMP mortality_count;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 19:46:36.297",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "(3)\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548425540685_771498935",
      "id": "20190125-141220_401540779",
      "dateCreated": "2019-01-25 14:12:20.685",
      "dateStarted": "2019-01-27 19:46:36.366",
      "dateFinished": "2019-01-27 19:46:37.367",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "-- perform join of events and mortality by patientid\neventswithmort \u003d JOIN events BY patientid LEFT OUTER, mortality BY patientid;\neventswithmort_count \u003d FOREACH (GROUP eventswithmort ALL) GENERATE COUNT(eventswithmort);\nDUMP eventswithmort_count;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 19:46:43.292",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "(2763)\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548425941875_-496189963",
      "id": "20190125-141901_8363271",
      "dateCreated": "2019-01-25 14:19:01.876",
      "dateStarted": "2019-01-27 19:46:43.353",
      "dateFinished": "2019-01-27 19:46:44.488",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\neventswithmort;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 19:46:46.689",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "events::patientid": "string",
                      "events::eventid": "string",
                      "events::etimestamp": "string",
                      "events::value": "string",
                      "mortality::patientid": "string",
                      "mortality::mtimestamp": "string",
                      "mortality::label": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "events::patientid\tevents::eventid\tevents::etimestamp\tevents::value\tmortality::patientid\tmortality::mtimestamp\tmortality::label\n5206\tLAB3011258\t2000-07-29T00:00:00.000Z\t\t\t\t\n5206\tLAB3015736\t2000-07-29T00:00:00.000Z\t8.0\t\t\t\n5206\tLAB3045414\t2000-07-29T00:00:00.000Z\t\t\t\t\n5206\tLAB3035124\t2000-07-29T00:00:00.000Z\t\t\t\t\n5206\tLAB3035583\t2000-07-29T00:00:00.000Z\t\t\t\t\n5206\tLAB3004562\t2000-07-29T00:00:00.000Z\t\t\t\t\n5206\tLAB3000259\t2000-07-29T00:00:00.000Z\t\t\t\t\n5206\tLAB3010189\t2000-07-29T00:00:00.000Z\t\t\t\t\n5206\tLAB3016723\t2000-07-29T00:00:00.000Z\t1.6\t\t\t\n5206\tLAB3007950\t2000-07-29T00:00:00.000Z\t2.0\t\t\t\n5206\tDIAG81151\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDIAG437149\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDIAG193598\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDIAG79864\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDIAG440603\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDIAG434894\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDIAG197320\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDIAG192767\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDIAG194200\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDIAG442531\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG948078\t2000-08-01T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1742253\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG19049105\t2000-08-02T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1000560\t2000-07-30T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1126658\t2000-08-01T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1126658\t2000-08-01T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1126658\t2000-07-30T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1126658\t2000-08-01T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG43012825\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG19065818\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1126658\t2000-08-01T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1000560\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG19079524\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG19093848\t2000-08-02T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1126658\t2000-07-31T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG1742253\t2000-07-30T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG19012125\t2000-07-29T00:00:00.000Z\t1.0\t\t\t\n5206\tDRUG19093848\t2000-08-01T00:00:00.000Z\t1.0\t\t\t\n5206\tLAB3009542\t2000-08-04T00:00:00.000Z\t34.4\t\t\t\n5206\tLAB3010813\t2000-08-04T00:00:00.000Z\t10.2\t\t\t\n5206\tLAB3001420\t2000-08-04T00:00:00.000Z\t2.1\t\t\t\n5206\tLAB3007359\t2000-08-04T00:00:00.000Z\t3.9\t\t\t\n5206\tLAB3027597\t2000-08-04T00:00:00.000Z\t2.9\t\t\t\n5206\tLAB3024128\t2000-08-04T00:00:00.000Z\t6.8\t\t\t\n5206\tLAB3023103\t2000-08-04T00:00:00.000Z\t4.2\t\t\t\n5206\tLAB3016723\t2000-08-04T00:00:00.000Z\t1.4\t\t\t\n5206\tLAB3013682\t2000-08-04T00:00:00.000Z\t21.0\t\t\t\n5206\tLAB3010189\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3000259\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3004562\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3035583\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3035124\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3045414\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3015736\t2000-08-03T00:00:00.000Z\t8.0\t\t\t\n5206\tLAB3007950\t2000-08-03T00:00:00.000Z\t4.0\t\t\t\n5206\tLAB3011258\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3032459\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3020399\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3005897\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3021601\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3011397\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3000330\t2000-08-03T00:00:00.000Z\t1.012\t\t\t\n5206\tLAB3007876\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3027162\t2000-08-03T00:00:00.000Z\t\t\t\t\n5206\tLAB3007461\t2000-08-03T00:00:00.000Z\t226.0\t\t\t\n5206\tLAB3002385\t2000-08-03T00:00:00.000Z\t13.5\t\t\t\n5206\tLAB3003338\t2000-08-03T00:00:00.000Z\t34.1\t\t\t\n5206\tLAB3035941\t2000-08-03T00:00:00.000Z\t31.5\t\t\t\n5206\tLAB3024731\t2000-08-03T00:00:00.000Z\t93.0\t\t\t\n5206\tLAB3009542\t2000-08-03T00:00:00.000Z\t32.1\t\t\t\n5206\tLAB3000963\t2000-08-03T00:00:00.000Z\t10.9\t\t\t\n5206\tLAB3026361\t2000-08-03T00:00:00.000Z\t3.46\t\t\t\n5206\tLAB3010813\t2000-08-03T00:00:00.000Z\t6.0\t\t\t\n5206\tLAB3001420\t2000-08-03T00:00:00.000Z\t2.1\t\t\t\n5206\tLAB3023103\t2000-08-03T00:00:00.000Z\t4.0\t\t\t\n5206\tLAB3016723\t2000-08-03T00:00:00.000Z\t1.2\t\t\t\n5206\tLAB3013682\t2000-08-03T00:00:00.000Z\t19.0\t\t\t\n5206\tLAB3009542\t2000-08-02T00:00:00.000Z\t29.4\t\t\t\n5206\tLAB3004501\t2000-08-02T00:00:00.000Z\t128.0\t\t\t\n5206\tLAB3013682\t2000-08-02T00:00:00.000Z\t16.0\t\t\t\n5206\tLAB3016723\t2000-08-02T00:00:00.000Z\t1.3\t\t\t\n5206\tLAB3019550\t2000-08-02T00:00:00.000Z\t138.0\t\t\t\n5206\tLAB3023103\t2000-08-02T00:00:00.000Z\t3.7\t\t\t\n5206\tLAB3018572\t2000-08-02T00:00:00.000Z\t103.0\t\t\t\n5206\tLAB3016293\t2000-08-02T00:00:00.000Z\t28.0\t\t\t\n5206\tLAB3039000\t2000-08-02T00:00:00.000Z\t11.0\t\t\t\n5206\tLAB3006906\t2000-08-02T00:00:00.000Z\t8.7\t\t\t\n5206\tLAB3011904\t2000-08-02T00:00:00.000Z\t2.8\t\t\t\n5206\tLAB3001420\t2000-08-02T00:00:00.000Z\t1.8\t\t\t\n5206\tLAB3010813\t2000-08-02T00:00:00.000Z\t5.6\t\t\t\n5206\tLAB3026361\t2000-08-02T00:00:00.000Z\t3.26\t\t\t\n5206\tLAB3000963\t2000-08-02T00:00:00.000Z\t10.2\t\t\t\n5206\tLAB3009542\t2000-08-02T00:00:00.000Z\t28.6\t\t\t\n5206\tLAB3024731\t2000-08-02T00:00:00.000Z\t88.0\t\t\t\n5206\tLAB3035941\t2000-08-02T00:00:00.000Z\t31.4\t\t\t\n5206\tLAB3003338\t2000-08-02T00:00:00.000Z\t35.7\t\t\t\n5206\tLAB3002385\t2000-08-02T00:00:00.000Z\t13.3\t\t\t\n5206\tLAB3007461\t2000-08-02T00:00:00.000Z\t165.0\t\t\t\n5206\tLAB3009542\t2000-08-01T00:00:00.000Z\t26.3\t\t\t\n5206\tLAB3009542\t2000-08-01T00:00:00.000Z\t27.0\t\t\t\n"
          },
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"result-alert alert-warning\" role\u003d\"alert\"\u003e\u003cbutton type\u003d\"button\" class\u003d\"close\" data-dismiss\u003d\"alert\" aria-label\u003d\"Close\"\u003e\u003cspan aria-hidden\u003d\"true\"\u003e\u0026times;\u003c/span\u003e\u003c/button\u003e\u003cstrong\u003eOutput is truncated\u003c/strong\u003e to 100 rows. Learn more about \u003cstrong\u003ezeppelin.pig.maxResult\u003c/strong\u003e\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548611501266_-1695957534",
      "id": "20190127-175141_1308765128",
      "dateCreated": "2019-01-27 17:51:41.266",
      "dateStarted": "2019-01-27 19:46:46.756",
      "dateFinished": "2019-01-27 19:46:48.037",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "-- detect the events of dead patients and create it of the form (patientid, eventid, value, label, time_difference) \n-- where time_difference is the days between index date and each event timestamp\ndeadevents \u003d FOREACH (\n    FILTER eventswithmort BY mtimestamp IS NOT NULL\n) GENERATE events::patientid AS patientid, eventid AS eventid, (float) ((value IS NULL) ? 0 : value) AS value, ((label IS NULL) ? 0 : label) as label, DaysBetween(SubtractDuration(mtimestamp, \u0027P30D\u0027), etimestamp) AS time_difference;\ndeadevents_count \u003d FOREACH (GROUP deadevents ALL) GENERATE COUNT(deadevents);\nDESCRIBE deadevents;\nDUMP deadevents_count;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 19:57:10.105",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "events::patientid": "string",
                      "events::eventid": "string",
                      "events::value": "string",
                      "mortality::label": "string",
                      "daysbetween": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "deadevents: {patientid: int,eventid: chararray,value: float,label: int,time_difference: long}\n(1910)\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548425998559_1115814576",
      "id": "20190125-141958_777131335",
      "dateCreated": "2019-01-25 14:19:58.559",
      "dateStarted": "2019-01-27 19:57:10.180",
      "dateFinished": "2019-01-27 19:57:11.478",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\ndeadevents;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 19:55:18.530",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {
                    "columns": [
                      {
                        "name": "patientid",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "eventid",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "value",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "label",
                        "visible": true,
                        "width": "*",
                        "sort": {
                          "priority": 0.0,
                          "direction": "asc"
                        },
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "time_difference",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      }
                    ],
                    "scrollFocus": {},
                    "selection": [],
                    "grouping": {
                      "grouping": [],
                      "aggregations": [],
                      "rowExpandedStates": {}
                    },
                    "treeView": {},
                    "pagination": {
                      "paginationCurrentPage": 1.0,
                      "paginationPageSize": 250.0
                    }
                  },
                  "tableColumnTypeState": {
                    "names": {
                      "patientid": "string",
                      "eventid": "string",
                      "value": "string",
                      "label": "number",
                      "time_difference": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "patientid\teventid\tvalue\tlabel\ttime_difference\n13905\tLAB3035941\t26.5\t1\t39\n13905\tLAB3009542\t45.8\t1\t39\n13905\tLAB3000963\t13.7\t1\t39\n13905\tLAB3026361\t5.18\t1\t39\n13905\tLAB3010813\t46.0\t1\t39\n13905\tLAB3001420\t2.2\t1\t39\n13905\tLAB3011904\t2.5\t1\t39\n13905\tLAB3006906\t8.0\t1\t39\n13905\tLAB3039000\t23.0\t1\t39\n13905\tLAB3016293\t18.0\t1\t39\n13905\tLAB3018572\t106.0\t1\t39\n13905\tLAB3023103\t3.4\t1\t39\n13905\tLAB3019550\t144.0\t1\t39\n13905\tLAB3016723\t0.5\t1\t39\n13905\tLAB3013682\t12.0\t1\t39\n13905\tLAB3004501\t53.0\t1\t39\n13905\tLAB3007461\t242.0\t1\t40\n13905\tLAB3033641\t0.0\t1\t40\n13905\tLAB3002385\t18.7\t1\t40\n13905\tLAB3003338\t31.0\t1\t40\n13905\tLAB3035941\t27.1\t1\t40\n13905\tLAB3024731\t87.0\t1\t40\n13905\tLAB3009542\t37.3\t1\t40\n13905\tLAB3000963\t11.6\t1\t40\n13905\tLAB3026361\t4.26\t1\t40\n13905\tLAB3010813\t35.9\t1\t40\n13905\tLAB3039000\t18.0\t1\t40\n13905\tLAB3016293\t21.0\t1\t40\n13905\tLAB3018572\t113.0\t1\t40\n13905\tLAB3004501\t43.0\t1\t40\n13905\tLAB3013682\t18.0\t1\t40\n13905\tLAB3016723\t0.5\t1\t40\n13905\tLAB3019550\t148.0\t1\t40\n13905\tLAB3023103\t3.7\t1\t40\n13905\tLAB3019550\t145.0\t1\t41\n13905\tLAB3047181\t1.0\t1\t41\n13905\tLAB3009542\t36.0\t1\t41\n13905\tLAB3032080\t1.9\t1\t41\n13905\tLAB3016407\t279.0\t1\t41\n13905\tLAB3051714\t1024.0\t1\t41\n13905\tLAB3004501\t60.0\t1\t41\n13905\tLAB3013682\t18.0\t1\t41\n13905\tLAB3016723\t0.5\t1\t41\n13905\tLAB3019550\t149.0\t1\t41\n13905\tLAB3023103\t3.6\t1\t41\n13905\tLAB3018572\t113.0\t1\t41\n13905\tLAB3016293\t25.0\t1\t41\n13905\tLAB3039000\t15.0\t1\t41\n13905\tLAB3006906\t8.2\t1\t41\n13905\tLAB3011904\t3.4\t1\t41\n13905\tLAB3001420\t2.3\t1\t41\n13905\tLAB3010813\t24.2\t1\t41\n13905\tLAB3026361\t4.3\t1\t41\n13905\tLAB3000963\t11.7\t1\t41\n13905\tLAB3009542\t37.0\t1\t41\n13905\tLAB3024731\t86.0\t1\t41\n13905\tLAB3035941\t27.3\t1\t41\n13905\tLAB3003338\t31.7\t1\t41\n13905\tLAB3002385\t18.8\t1\t41\n13905\tLAB3017354\t87.0\t1\t41\n13905\tLAB3004809\t1.0\t1\t41\n13905\tLAB3002030\t5.0\t1\t41\n13905\tLAB3019069\t5.0\t1\t41\n13905\tLAB3006504\t0.0\t1\t41\n13905\tLAB3022096\t1.0\t1\t41\n13905\tLAB3013498\t1.0\t1\t41\n13905\tLAB3002179\t0.0\t1\t41\n13905\tLAB3017181\t0.0\t1\t41\n13905\tLAB3021303\t0.0\t1\t41\n13905\tLAB3038691\t0.0\t1\t41\n13905\tLAB3011368\t0.0\t1\t41\n13905\tLAB3005707\t0.0\t1\t41\n13905\tLAB3025639\t0.0\t1\t41\n13905\tLAB3011987\t0.0\t1\t41\n13905\tLAB3027920\t0.0\t1\t41\n13905\tLAB3019880\t0.0\t1\t41\n13905\tLAB3005854\t0.0\t1\t41\n13905\tLAB3026904\t0.0\t1\t41\n13905\tLAB3000456\t0.0\t1\t41\n13905\tLAB3033641\t0.0\t1\t41\n13905\tLAB3007461\t231.0\t1\t41\n13905\tLAB3002417\t16.7\t1\t41\n13905\tLAB3013466\t40.9\t1\t41\n13905\tLAB3047181\t3.1\t1\t42\n13905\tLAB3004501\t147.0\t1\t42\n13905\tLAB3013682\t20.0\t1\t42\n13905\tLAB3016723\t0.6\t1\t42\n13905\tLAB3019550\t142.0\t1\t42\n13905\tLAB3023103\t4.2\t1\t42\n13905\tLAB3018572\t108.0\t1\t42\n13905\tLAB3016293\t21.0\t1\t42\n13905\tLAB3039000\t17.0\t1\t42\n13905\tLAB3007220\t21.0\t1\t42\n13905\tLAB3033236\t0.0\t1\t42\n13905\tLAB3010813\t20.4\t1\t42\n13905\tLAB3026361\t5.24\t1\t42\n13905\tLAB3000963\t14.0\t1\t42\n13905\tLAB3009542\t44.4\t1\t42\n13905\tLAB3024731\t85.0\t1\t42\n13905\tLAB3035941\t26.6\t1\t42\n"
          },
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"result-alert alert-warning\" role\u003d\"alert\"\u003e\u003cbutton type\u003d\"button\" class\u003d\"close\" data-dismiss\u003d\"alert\" aria-label\u003d\"Close\"\u003e\u003cspan aria-hidden\u003d\"true\"\u003e\u0026times;\u003c/span\u003e\u003c/button\u003e\u003cstrong\u003eOutput is truncated\u003c/strong\u003e to 100 rows. Learn more about \u003cstrong\u003ezeppelin.pig.maxResult\u003c/strong\u003e\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548611330926_2031619823",
      "id": "20190127-174850_104189630",
      "dateCreated": "2019-01-27 17:48:50.928",
      "dateStarted": "2019-01-27 19:48:42.556",
      "dateFinished": "2019-01-27 19:48:43.446",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "-- detect the events of alive patients and create it of the form (patientid, eventid, value, label, time_difference) \n-- where time_difference is the days between index date and each event timestamp\naliveevents_patientgrouped \u003d GROUP (FILTER eventswithmort BY mtimestamp IS NULL) BY events::patientid;\nalivepatients_indexdates \u003d FOREACH aliveevents_patientgrouped GENERATE group AS patientid, MAX($1.etimestamp) AS latesttimestamp;\naliveevents \u003d FOREACH (JOIN eventswithmort BY events::patientid, alivepatients_indexdates BY patientid) \n    GENERATE events::patientid AS patientid, eventid AS eventid, value AS value, ((label IS NULL) ? 0 : label) as label, DaysBetween(latesttimestamp, etimestamp) AS time_difference;\nDESCRIBE aliveevents;\naliveevents_count \u003d FOREACH (GROUP aliveevents ALL) GENERATE COUNT(aliveevents);\nDUMP aliveevents_count;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 19:56:55.775",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "aliveevents: {patientid: int,eventid: chararray,value: float,label: int,time_difference: long}\n(853)\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548426086759_-1433246312",
      "id": "20190125-142126_755644198",
      "dateCreated": "2019-01-25 14:21:26.760",
      "dateStarted": "2019-01-27 19:56:55.831",
      "dateFinished": "2019-01-27 19:56:58.401",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\naliveevents;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 19:56:59.753",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "patientid": "string",
                      "eventid": "string",
                      "value": "string",
                      "label": "string",
                      "time_difference": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "patientid\teventid\tvalue\tlabel\ttime_difference\n5206\tLAB3015736\t8.0\t0\t6\n5206\tLAB3045414\t\t0\t6\n5206\tLAB3035124\t\t0\t6\n5206\tLAB3035583\t\t0\t6\n5206\tLAB3004562\t\t0\t6\n5206\tLAB3000259\t\t0\t6\n5206\tLAB3010189\t\t0\t6\n5206\tLAB3016723\t1.6\t0\t6\n5206\tLAB3007950\t2.0\t0\t6\n5206\tDIAG81151\t1.0\t0\t6\n5206\tDIAG437149\t1.0\t0\t6\n5206\tDIAG193598\t1.0\t0\t6\n5206\tDIAG79864\t1.0\t0\t6\n5206\tDIAG440603\t1.0\t0\t6\n5206\tDIAG434894\t1.0\t0\t6\n5206\tDIAG197320\t1.0\t0\t6\n5206\tDIAG192767\t1.0\t0\t6\n5206\tDIAG194200\t1.0\t0\t6\n5206\tDIAG442531\t1.0\t0\t6\n5206\tDRUG948078\t1.0\t0\t3\n5206\tDRUG1742253\t1.0\t0\t6\n5206\tDRUG19049105\t1.0\t0\t2\n5206\tDRUG1000560\t1.0\t0\t5\n5206\tDRUG1126658\t1.0\t0\t3\n5206\tDRUG1126658\t1.0\t0\t3\n5206\tDRUG1126658\t1.0\t0\t5\n5206\tDRUG1126658\t1.0\t0\t3\n5206\tDRUG43012825\t1.0\t0\t6\n5206\tDRUG19065818\t1.0\t0\t6\n5206\tDRUG1126658\t1.0\t0\t3\n5206\tDRUG1000560\t1.0\t0\t6\n5206\tDRUG19079524\t1.0\t0\t6\n5206\tDRUG19093848\t1.0\t0\t2\n5206\tDRUG1126658\t1.0\t0\t4\n5206\tDRUG1742253\t1.0\t0\t5\n5206\tDRUG19012125\t1.0\t0\t6\n5206\tDRUG19093848\t1.0\t0\t3\n5206\tLAB3009542\t34.4\t0\t0\n5206\tLAB3010813\t10.2\t0\t0\n5206\tLAB3001420\t2.1\t0\t0\n5206\tLAB3007359\t3.9\t0\t0\n5206\tLAB3027597\t2.9\t0\t0\n5206\tLAB3024128\t6.8\t0\t0\n5206\tLAB3023103\t4.2\t0\t0\n5206\tLAB3016723\t1.4\t0\t0\n5206\tLAB3013682\t21.0\t0\t0\n5206\tLAB3010189\t\t0\t1\n5206\tLAB3000259\t\t0\t1\n5206\tLAB3004562\t\t0\t1\n5206\tLAB3035583\t\t0\t1\n5206\tLAB3035124\t\t0\t1\n5206\tLAB3045414\t\t0\t1\n5206\tLAB3015736\t8.0\t0\t1\n5206\tLAB3007950\t4.0\t0\t1\n5206\tLAB3011258\t\t0\t1\n5206\tLAB3032459\t\t0\t1\n5206\tLAB3020399\t\t0\t1\n5206\tLAB3005897\t\t0\t1\n5206\tLAB3021601\t\t0\t1\n5206\tLAB3011397\t\t0\t1\n5206\tLAB3000330\t1.012\t0\t1\n5206\tLAB3007876\t\t0\t1\n5206\tLAB3027162\t\t0\t1\n5206\tLAB3007461\t226.0\t0\t1\n5206\tLAB3002385\t13.5\t0\t1\n5206\tLAB3003338\t34.1\t0\t1\n5206\tLAB3035941\t31.5\t0\t1\n5206\tLAB3024731\t93.0\t0\t1\n5206\tLAB3009542\t32.1\t0\t1\n5206\tLAB3000963\t10.9\t0\t1\n5206\tLAB3026361\t3.46\t0\t1\n5206\tLAB3010813\t6.0\t0\t1\n5206\tLAB3001420\t2.1\t0\t1\n5206\tLAB3023103\t4.0\t0\t1\n5206\tLAB3016723\t1.2\t0\t1\n5206\tLAB3013682\t19.0\t0\t1\n5206\tLAB3009542\t29.4\t0\t2\n5206\tLAB3004501\t128.0\t0\t2\n5206\tLAB3013682\t16.0\t0\t2\n5206\tLAB3016723\t1.3\t0\t2\n5206\tLAB3019550\t138.0\t0\t2\n5206\tLAB3023103\t3.7\t0\t2\n5206\tLAB3018572\t103.0\t0\t2\n5206\tLAB3016293\t28.0\t0\t2\n5206\tLAB3039000\t11.0\t0\t2\n5206\tLAB3006906\t8.7\t0\t2\n5206\tLAB3011904\t2.8\t0\t2\n5206\tLAB3001420\t1.8\t0\t2\n5206\tLAB3010813\t5.6\t0\t2\n5206\tLAB3026361\t3.26\t0\t2\n5206\tLAB3000963\t10.2\t0\t2\n5206\tLAB3009542\t28.6\t0\t2\n5206\tLAB3024731\t88.0\t0\t2\n5206\tLAB3035941\t31.4\t0\t2\n5206\tLAB3003338\t35.7\t0\t2\n5206\tLAB3002385\t13.3\t0\t2\n5206\tLAB3007461\t165.0\t0\t2\n5206\tLAB3009542\t26.3\t0\t3\n5206\tLAB3009542\t27.0\t0\t3\n5206\tLAB3013682\t20.0\t0\t3\n"
          },
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"result-alert alert-warning\" role\u003d\"alert\"\u003e\u003cbutton type\u003d\"button\" class\u003d\"close\" data-dismiss\u003d\"alert\" aria-label\u003d\"Close\"\u003e\u003cspan aria-hidden\u003d\"true\"\u003e\u0026times;\u003c/span\u003e\u003c/button\u003e\u003cstrong\u003eOutput is truncated\u003c/strong\u003e to 100 rows. Learn more about \u003cstrong\u003ezeppelin.pig.maxResult\u003c/strong\u003e\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548611361137_1469590903",
      "id": "20190127-174921_1910949448",
      "dateCreated": "2019-01-27 17:49:21.137",
      "dateStarted": "2019-01-27 19:56:59.837",
      "dateFinished": "2019-01-27 19:57:01.583",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\n-- contains only events for all patients within the observation window of 2000 days \n-- and is of the form (patientid, eventid, value, label, time_difference)\nfiltered \u003d FILTER (UNION aliveevents, deadevents) BY time_difference \u003e\u003d 0 and time_difference \u003c\u003d 2000 and value IS NOT NULL;\nfiltered;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 21:00:13.723",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {
                    "columns": [
                      {
                        "name": "patientid",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "eventid",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "value",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "label",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "time_difference",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      }
                    ],
                    "scrollFocus": {},
                    "selection": [],
                    "grouping": {
                      "grouping": [],
                      "aggregations": [],
                      "rowExpandedStates": {}
                    },
                    "treeView": {},
                    "pagination": {
                      "paginationCurrentPage": 1.0,
                      "paginationPageSize": 250.0
                    }
                  },
                  "tableColumnTypeState": {
                    "names": {
                      "patientid": "string",
                      "eventid": "string",
                      "value": "string",
                      "label": "string",
                      "time_difference": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "lineChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "patientid",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "eventid",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "patientid\teventid\tvalue\tlabel\ttime_difference\n5206\tLAB3007461\t198.0\t0\t6\n5206\tLAB3013466\t23.8\t0\t6\n5206\tLAB3032080\t1.1\t0\t6\n5206\tLAB3010813\t10.5\t0\t6\n5206\tLAB3026361\t3.6\t0\t6\n5206\tLAB3000963\t11.3\t0\t6\n5206\tLAB3009542\t33.4\t0\t6\n5206\tLAB3024731\t93.0\t0\t6\n5206\tLAB3035941\t31.5\t0\t6\n5206\tLAB3003338\t34.0\t0\t6\n5206\tLAB3002385\t13.4\t0\t6\n5206\tLAB3004501\t116.0\t0\t6\n5206\tLAB3013682\t25.0\t0\t6\n5206\tLAB3016723\t1.8\t0\t6\n5206\tLAB3019550\t141.0\t0\t6\n5206\tLAB3023103\t4.7\t0\t6\n5206\tLAB3018572\t108.0\t0\t6\n5206\tLAB3016293\t25.0\t0\t6\n5206\tLAB3039000\t13.0\t0\t6\n5206\tLAB3010813\t13.4\t0\t6\n5206\tLAB3026361\t3.21\t0\t6\n5206\tLAB3000963\t10.6\t0\t6\n5206\tLAB3009542\t29.2\t0\t6\n5206\tLAB3024731\t91.0\t0\t6\n5206\tLAB3035941\t33.0\t0\t6\n5206\tLAB3003338\t36.3\t0\t6\n5206\tLAB3002385\t13.1\t0\t6\n5206\tLAB3007461\t175.0\t0\t6\n5206\tLAB3002417\t13.3\t0\t6\n5206\tLAB3013466\t23.3\t0\t6\n5206\tLAB3032080\t1.2\t0\t6\n5206\tLAB3013682\t24.0\t0\t6\n5206\tLAB3016723\t1.9\t0\t6\n5206\tLAB3019550\t141.0\t0\t6\n5206\tLAB3023103\t4.6\t0\t6\n5206\tLAB3018572\t106.0\t0\t6\n5206\tLAB3016293\t27.0\t0\t6\n5206\tLAB3039000\t13.0\t0\t6\n5206\tLAB3006906\t8.5\t0\t6\n5206\tLAB3011904\t3.5\t0\t6\n5206\tLAB3001420\t1.8\t0\t6\n5206\tLAB3010813\t18.6\t0\t6\n5206\tLAB3026361\t3.82\t0\t6\n5206\tLAB3000963\t12.5\t0\t6\n5206\tLAB3009542\t36.0\t0\t6\n5206\tLAB3024731\t94.0\t0\t6\n5206\tLAB3035941\t32.7\t0\t6\n5206\tLAB3003338\t34.7\t0\t6\n5206\tLAB3002385\t12.5\t0\t6\n5206\tLAB3007461\t247.0\t0\t6\n5206\tLAB3002417\t13.0\t0\t6\n5206\tLAB3015736\t8.0\t0\t6\n5206\tLAB3013466\t22.5\t0\t6\n5206\tLAB3032080\t1.1\t0\t6\n5206\tLAB3004501\t129.0\t0\t6\n5206\tLAB3047181\t1.5\t0\t6\n5206\tLAB3000285\t141.0\t0\t6\n5206\tLAB3005456\t4.2\t0\t6\n5206\tLAB3018572\t108.0\t0\t6\n5206\tLAB3006576\t31.0\t0\t6\n5206\tLAB3000483\t133.0\t0\t6\n5206\tLAB3016407\t230.0\t0\t6\n5206\tLAB3032080\t1.2\t0\t6\n5206\tLAB3013466\t20.3\t0\t6\n5206\tLAB3002417\t13.5\t0\t6\n5206\tLAB3007461\t253.0\t0\t6\n5206\tLAB3002385\t13.0\t0\t6\n5206\tLAB3003338\t36.9\t0\t6\n5206\tLAB3035941\t33.4\t0\t6\n5206\tLAB3024731\t90.0\t0\t6\n5206\tLAB3009542\t37.7\t0\t6\n5206\tLAB3000963\t13.9\t0\t6\n5206\tLAB3026361\t4.17\t0\t6\n5206\tLAB3010813\t17.7\t0\t6\n5206\tLAB3004905\t35.0\t0\t6\n5206\tLAB3016771\t31.0\t0\t6\n5206\tLAB3020399\t250.0\t0\t6\n5206\tLAB3032459\t15.0\t0\t6\n5206\tLAB3002417\t13.0\t0\t6\n5206\tLAB3016723\t1.6\t0\t6\n5206\tLAB3007950\t2.0\t0\t6\n5206\tDIAG81151\t1.0\t0\t6\n5206\tDIAG437149\t1.0\t0\t6\n5206\tDIAG193598\t1.0\t0\t6\n5206\tDIAG79864\t1.0\t0\t6\n5206\tDIAG440603\t1.0\t0\t6\n5206\tDIAG434894\t1.0\t0\t6\n5206\tDIAG197320\t1.0\t0\t6\n5206\tDIAG192767\t1.0\t0\t6\n5206\tDIAG194200\t1.0\t0\t6\n5206\tDIAG442531\t1.0\t0\t6\n5206\tDRUG948078\t1.0\t0\t3\n5206\tDRUG1742253\t1.0\t0\t6\n5206\tDRUG19049105\t1.0\t0\t2\n5206\tDRUG1000560\t1.0\t0\t5\n5206\tDRUG1126658\t1.0\t0\t3\n5206\tDRUG1126658\t1.0\t0\t3\n5206\tDRUG1126658\t1.0\t0\t5\n5206\tDRUG1126658\t1.0\t0\t3\n5206\tDRUG43012825\t1.0\t0\t6\n"
          },
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"result-alert alert-warning\" role\u003d\"alert\"\u003e\u003cbutton type\u003d\"button\" class\u003d\"close\" data-dismiss\u003d\"alert\" aria-label\u003d\"Close\"\u003e\u003cspan aria-hidden\u003d\"true\"\u003e\u0026times;\u003c/span\u003e\u003c/button\u003e\u003cstrong\u003eOutput is truncated\u003c/strong\u003e to 100 rows. Learn more about \u003cstrong\u003ezeppelin.pig.maxResult\u003c/strong\u003e\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548426168995_-310378686",
      "id": "20190125-142248_1091134286",
      "dateCreated": "2019-01-25 14:22:48.996",
      "dateStarted": "2019-01-27 21:00:13.876",
      "dateFinished": "2019-01-27 21:00:16.829",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\n-- for group of (patientid, eventid), count the number of events occurred for \n-- the patient and create relation of the form (patientid, eventid, featurevalue)\nfeatureswithid \u003d FOREACH (GROUP filtered BY (patientid, eventid)) GENERATE $0.patientid AS patientid, $0.eventid AS eventid, COUNT($1) AS featurevalue;\ndistinctfeatures \u003d GROUP featureswithid BY eventid;\nFOREACH (GROUP distinctfeatures ALL) GENERATE COUNT(distinctfeatures);",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 15:34:58.261",
      "config": {
        "colWidth": 5.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 374.6666564941406,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "col_0": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "col_0\n1862\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548451888932_-1994859448",
      "id": "20190125-213128_1819704226",
      "dateCreated": "2019-01-25 21:31:28.932",
      "dateStarted": "2019-01-27 15:25:44.633",
      "dateFinished": "2019-01-27 15:27:21.295",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\n-- compute the set of distinct eventids obtained from previous step, sort them by eventid and then rank these features by eventid to create (idx, eventid). Rank should start from 0.\nall_features \u003d FOREACH (GROUP featureswithid BY eventid) GENERATE group AS eventid;\nall_features \u003d RANK (ORDER all_features BY eventid ASC) BY eventid;\nall_features \u003d FOREACH all_features GENERATE $0 - 1 as idx, eventid AS eventid;\nall_features;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 15:34:34.181",
      "config": {
        "colWidth": 11.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 284.6666564941406,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "idx": "string",
                      "eventid": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "idx\teventid\n0\tDIAG132736\n1\tDIAG132797\n2\tDIAG133028\n3\tDIAG133424\n4\tDIAG133711\n5\tDIAG133727\n6\tDIAG133810\n7\tDIAG133853\n8\tDIAG134031\n9\tDIAG134116\n10\tDIAG134441\n11\tDIAG134603\n12\tDIAG134760\n13\tDIAG134765\n14\tDIAG135178\n15\tDIAG135214\n16\tDIAG135333\n17\tDIAG135350\n18\tDIAG135360\n19\tDIAG135744\n20\tDIAG135888\n21\tDIAG135893\n22\tDIAG136368\n23\tDIAG136580\n24\tDIAG136960\n25\tDIAG137005\n26\tDIAG137488\n27\tDIAG137497\n28\tDIAG137658\n29\tDIAG137820\n30\tDIAG137829\n31\tDIAG137967\n32\tDIAG138027\n33\tDIAG138339\n34\tDIAG138340\n35\tDIAG138379\n36\tDIAG138455\n37\tDIAG138525\n38\tDIAG138604\n39\tDIAG138641\n40\tDIAG138676\n41\tDIAG138708\n42\tDIAG138858\n43\tDIAG138876\n44\tDIAG138896\n45\tDIAG138994\n46\tDIAG139188\n47\tDIAG139899\n48\tDIAG139906\n49\tDIAG140191\n50\tDIAG140214\n51\tDIAG140352\n52\tDIAG140486\n53\tDIAG140673\n54\tDIAG141038\n55\tDIAG141095\n56\tDIAG141499\n57\tDIAG142026\n58\tDIAG192242\n59\tDIAG192261\n60\tDIAG192278\n61\tDIAG192279\n62\tDIAG192357\n63\tDIAG192359\n64\tDIAG192364\n65\tDIAG192450\n66\tDIAG192568\n67\tDIAG192606\n68\tDIAG192671\n69\tDIAG192673\n70\tDIAG192675\n71\tDIAG192680\n72\tDIAG192901\n73\tDIAG192956\n74\tDIAG192963\n75\tDIAG193020\n76\tDIAG193144\n77\tDIAG193240\n78\tDIAG193242\n79\tDIAG193251\n80\tDIAG193253\n81\tDIAG193517\n82\tDIAG193518\n83\tDIAG193631\n84\tDIAG193688\n85\tDIAG193782\n86\tDIAG193809\n87\tDIAG193983\n88\tDIAG194152\n89\tDIAG194395\n90\tDIAG194417\n91\tDIAG194574\n92\tDIAG194683\n93\tDIAG194913\n94\tDIAG194984\n95\tDIAG194992\n96\tDIAG195106\n97\tDIAG195306\n98\tDIAG195314\n99\tDIAG195398\n"
          },
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"result-alert alert-warning\" role\u003d\"alert\"\u003e\u003cbutton type\u003d\"button\" class\u003d\"close\" data-dismiss\u003d\"alert\" aria-label\u003d\"Close\"\u003e\u003cspan aria-hidden\u003d\"true\"\u003e\u0026times;\u003c/span\u003e\u003c/button\u003e\u003cstrong\u003eOutput is truncated\u003c/strong\u003e to 100 rows. Learn more about \u003cstrong\u003ezeppelin.pig.maxResult\u003c/strong\u003e\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548534575965_336493521",
      "id": "20190126-202935_956218152",
      "dateCreated": "2019-01-26 20:29:35.965",
      "dateStarted": "2019-01-27 13:38:19.190",
      "dateFinished": "2019-01-27 13:39:38.826",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\n-- perform join of featureswithid and all_features by eventid and replace eventid with idx. It is of the form (patientid, idx, featurevalue)\nfeatures \u003d FOREACH (JOIN featureswithid BY eventid, all_features BY eventid) GENERATE patientid AS patientid, idx AS idx, featurevalue as featurevalue;\nfeatures;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 15:34:17.153",
      "config": {
        "colWidth": 11.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 284.6666564941406,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "patientid": "string",
                      "idx": "string",
                      "featurevalue": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "patientid\tidx\tfeaturevalue\n23228\t196\t1\n20205\t197\t1\n2502\t197\t1\n11283\t197\t1\n9514\t198\t1\n2194\t199\t1\n6204\t200\t1\n11021\t200\t1\n4415\t200\t1\n6204\t213\t1\n15673\t236\t1\n6144\t256\t1\n9290\t256\t1\n14086\t256\t1\n5574\t256\t1\n10100\t256\t1\n101\t257\t1\n10250\t258\t1\n533\t258\t1\n1314\t258\t1\n16138\t258\t1\n5161\t259\t1\n23262\t259\t1\n11897\t259\t1\n309\t259\t1\n14964\t259\t1\n12243\t259\t1\n14624\t259\t1\n13508\t260\t1\n21152\t261\t1\n14403\t262\t1\n24316\t262\t1\n11842\t262\t1\n1417\t262\t1\n15541\t262\t1\n6162\t262\t1\n15011\t262\t1\n14984\t262\t1\n7703\t262\t1\n18688\t263\t1\n22128\t264\t1\n23382\t265\t1\n11714\t265\t1\n717\t266\t1\n13475\t267\t1\n18688\t267\t1\n3417\t268\t1\n24144\t268\t1\n19872\t277\t1\n21693\t277\t1\n8702\t877\t1\n21370\t877\t1\n21519\t877\t1\n24006\t877\t1\n1417\t877\t1\n24747\t877\t1\n3355\t877\t1\n21923\t878\t1\n13064\t878\t1\n1073\t879\t1\n18891\t879\t1\n6411\t880\t1\n13496\t881\t1\n6484\t882\t1\n20620\t883\t1\n10234\t883\t1\n2623\t883\t1\n6115\t884\t1\n13798\t884\t1\n23320\t885\t1\n8702\t885\t1\n13387\t886\t1\n16508\t887\t1\n6115\t888\t1\n14857\t888\t1\n13798\t888\t1\n21943\t889\t1\n15412\t889\t1\n7796\t890\t1\n431\t891\t1\n17663\t892\t1\n16970\t893\t1\n101\t894\t1\n19164\t894\t1\n23134\t894\t1\n16158\t894\t1\n1647\t894\t1\n17423\t894\t1\n13936\t895\t1\n24351\t895\t1\n11354\t896\t1\n21943\t897\t1\n15412\t897\t1\n19794\t898\t1\n18891\t899\t1\n17651\t900\t1\n21325\t900\t1\n24985\t900\t1\n1999\t900\t1\n9804\t900\t1\n"
          },
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"result-alert alert-warning\" role\u003d\"alert\"\u003e\u003cbutton type\u003d\"button\" class\u003d\"close\" data-dismiss\u003d\"alert\" aria-label\u003d\"Close\"\u003e\u003cspan aria-hidden\u003d\"true\"\u003e\u0026times;\u003c/span\u003e\u003c/button\u003e\u003cstrong\u003eOutput is truncated\u003c/strong\u003e to 100 rows. Learn more about \u003cstrong\u003ezeppelin.pig.maxResult\u003c/strong\u003e\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548539611151_-1469468979",
      "id": "20190126-215331_1934869342",
      "dateCreated": "2019-01-26 21:53:31.151",
      "dateStarted": "2019-01-27 13:58:57.404",
      "dateFinished": "2019-01-27 14:00:19.211",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\n-- group events by idx and compute the maximum feature value in each group. It is of the form (idx, maxvalue)\nmaxvalues \u003d FOREACH (GROUP features BY idx) GENERATE group AS idx, MAX($1.featurevalue) AS maxvalue;\nORDER maxvalues BY idx DESC;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 15:33:44.545",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "idx": "string",
                      "maxvalue": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "idx\tmaxvalue\n1861\t1\n1860\t1\n1859\t1\n1858\t1\n1857\t1\n1856\t1\n1855\t1\n1854\t1\n1853\t1\n1852\t1\n1851\t1\n1850\t1\n1849\t7\n1848\t1\n1847\t16\n1846\t2\n1845\t108\n1844\t1\n1843\t1\n1842\t1\n1841\t2\n1840\t13\n1839\t24\n1838\t1\n1837\t1\n1836\t1\n1835\t1\n1834\t1\n1833\t2\n1832\t1\n1831\t1\n1830\t2\n1829\t1\n1828\t4\n1827\t2\n1826\t2\n1825\t1\n1824\t99\n1823\t17\n1822\t1\n1821\t1\n1820\t1\n1819\t3\n1818\t5\n1817\t41\n1816\t1\n1815\t1\n1814\t1\n1813\t1\n1812\t4\n1811\t2\n1810\t2\n1809\t2\n1808\t3\n1807\t2\n1806\t1\n1805\t1\n1804\t1\n1803\t2\n1802\t1\n1801\t65\n1800\t2\n1799\t23\n1798\t12\n1797\t1\n1796\t1\n1795\t13\n1794\t1\n1793\t1\n1792\t12\n1791\t1\n1790\t1\n1789\t2\n1788\t1\n1787\t1\n1786\t1\n1785\t17\n1784\t30\n1783\t2\n1782\t7\n1781\t1\n1780\t20\n1779\t1\n1778\t1\n1777\t1\n1776\t13\n1775\t2\n1774\t97\n1773\t3\n1772\t4\n1771\t1\n1770\t1\n1769\t1\n1768\t1\n1767\t1\n1766\t1\n1765\t4\n1764\t1\n1763\t1\n1762\t1\n"
          },
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"result-alert alert-warning\" role\u003d\"alert\"\u003e\u003cbutton type\u003d\"button\" class\u003d\"close\" data-dismiss\u003d\"alert\" aria-label\u003d\"Close\"\u003e\u003cspan aria-hidden\u003d\"true\"\u003e\u0026times;\u003c/span\u003e\u003c/button\u003e\u003cstrong\u003eOutput is truncated\u003c/strong\u003e to 100 rows. Learn more about \u003cstrong\u003ezeppelin.pig.maxResult\u003c/strong\u003e\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548567916499_-699924025",
      "id": "20190127-054516_2000266244",
      "dateCreated": "2019-01-27 05:45:16.502",
      "dateStarted": "2019-01-27 15:02:34.866",
      "dateFinished": "2019-01-27 15:04:54.577",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\n-- join features and maxvalues by idx\nnormalized \u003d FOREACH (JOIN features BY idx, maxvalues BY idx) GENERATE patientid AS patientid, features::idx AS idx, featurevalue AS featurevalue, maxvalue AS maxvalue;\nnormalized;\n",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 15:33:28.835",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "patientid": "string",
                      "idx": "string",
                      "featurevalue": "string",
                      "maxvalue": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "patientid\tidx\tfeaturevalue\tmaxvalue\n10100\t0\t1\t1\n17616\t0\t1\t1\n9154\t0\t1\t1\n17012\t0\t1\t1\n9290\t0\t1\t1\n8483\t0\t1\t1\n8839\t0\t1\t1\n23051\t0\t1\t1\n18771\t0\t1\t1\n13864\t1\t1\t2\n13813\t1\t1\t2\n3543\t1\t1\t2\n10156\t1\t1\t2\n4070\t1\t2\t2\n24624\t1\t1\t2\n10502\t1\t1\t2\n14984\t1\t2\t2\n10062\t1\t1\t2\n7631\t1\t1\t2\n23079\t1\t2\t2\n25047\t1\t2\t2\n309\t1\t1\t2\n18741\t1\t2\t2\n3843\t1\t2\t2\n10681\t1\t2\t2\n24599\t1\t2\t2\n9380\t1\t2\t2\n7457\t1\t1\t2\n15292\t1\t2\t2\n25058\t1\t1\t2\n22367\t1\t1\t2\n13508\t1\t2\t2\n922\t1\t1\t2\n25063\t1\t2\t2\n4289\t1\t2\t2\n15435\t1\t1\t2\n24428\t1\t1\t2\n8858\t1\t2\t2\n3877\t1\t1\t2\n15562\t1\t2\t2\n15648\t1\t1\t2\n948\t1\t2\t2\n17502\t1\t1\t2\n6838\t1\t1\t2\n10441\t1\t2\t2\n17651\t1\t2\t2\n11841\t1\t2\t2\n9154\t1\t1\t2\n13175\t1\t1\t2\n23352\t1\t2\t2\n15919\t1\t1\t2\n10499\t1\t2\t2\n3355\t1\t1\t2\n22063\t1\t1\t2\n15969\t1\t1\t2\n8932\t1\t2\t2\n11842\t1\t1\t2\n1984\t1\t1\t2\n18966\t1\t2\t2\n6632\t1\t2\t2\n15981\t1\t2\t2\n12603\t1\t1\t2\n20559\t1\t1\t2\n24299\t1\t1\t2\n1939\t1\t1\t2\n6563\t1\t1\t2\n16031\t1\t2\t2\n21943\t1\t1\t2\n24270\t1\t2\t2\n23382\t1\t1\t2\n18851\t1\t2\t2\n9561\t1\t1\t2\n3417\t1\t2\t2\n3636\t1\t1\t2\n21922\t1\t1\t2\n8942\t1\t2\t2\n1251\t1\t2\t2\n4811\t1\t2\t2\n24215\t1\t1\t2\n25734\t1\t2\t2\n447\t1\t2\t2\n19872\t1\t1\t2\n16212\t1\t2\t2\n21717\t1\t2\t2\n21534\t1\t1\t2\n4538\t1\t2\t2\n3218\t1\t1\t2\n18918\t1\t1\t2\n25112\t1\t2\t2\n21448\t1\t2\t2\n21444\t1\t2\t2\n16368\t1\t1\t2\n17596\t1\t1\t2\n17892\t1\t2\t2\n16438\t1\t1\t2\n3821\t1\t2\t2\n4566\t1\t2\t2\n21282\t1\t1\t2\n2668\t1\t1\t2\n10205\t1\t1\t2\n"
          },
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"result-alert alert-warning\" role\u003d\"alert\"\u003e\u003cbutton type\u003d\"button\" class\u003d\"close\" data-dismiss\u003d\"alert\" aria-label\u003d\"Close\"\u003e\u003cspan aria-hidden\u003d\"true\"\u003e\u0026times;\u003c/span\u003e\u003c/button\u003e\u003cstrong\u003eOutput is truncated\u003c/strong\u003e to 100 rows. Learn more about \u003cstrong\u003ezeppelin.pig.maxResult\u003c/strong\u003e\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548597741259_1317467132",
      "id": "20190127-140221_1571721496",
      "dateCreated": "2019-01-27 14:02:21.260",
      "dateStarted": "2019-01-27 15:31:00.195",
      "dateFinished": "2019-01-27 15:32:27.232",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\n-- compute the final set of normalized features of the form (patientid, idx, normalizedfeaturevalue)\nfeatures \u003d FOREACH normalized GENERATE patientid AS patientid, idx AS idx, (float) featurevalue / maxvalue AS normalizedfeaturevalue;\nfeatures;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 15:54:36.958",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {
                    "columns": [
                      {
                        "name": "patientid",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "idx",
                        "visible": true,
                        "width": "*",
                        "sort": {
                          "priority": 0.0,
                          "direction": "asc"
                        },
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "normalizedfeaturevalue",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      }
                    ],
                    "scrollFocus": {},
                    "selection": [],
                    "grouping": {
                      "grouping": [],
                      "aggregations": [],
                      "rowExpandedStates": {}
                    },
                    "treeView": {},
                    "pagination": {
                      "paginationCurrentPage": 1.0,
                      "paginationPageSize": 250.0
                    }
                  },
                  "tableColumnTypeState": {
                    "names": {
                      "patientid": "string",
                      "idx": "string",
                      "normalizedfeaturevalue": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "patientid\tidx\tnormalizedfeaturevalue\n10100\t0\t1.0\n17616\t0\t1.0\n9154\t0\t1.0\n17012\t0\t1.0\n9290\t0\t1.0\n8483\t0\t1.0\n8839\t0\t1.0\n23051\t0\t1.0\n18771\t0\t1.0\n13864\t1\t0.5\n13813\t1\t0.5\n3543\t1\t0.5\n10156\t1\t0.5\n4070\t1\t1.0\n24624\t1\t0.5\n10502\t1\t0.5\n14984\t1\t1.0\n10062\t1\t0.5\n7631\t1\t0.5\n23079\t1\t1.0\n25047\t1\t1.0\n309\t1\t0.5\n18741\t1\t1.0\n3843\t1\t1.0\n10681\t1\t1.0\n24599\t1\t1.0\n9380\t1\t1.0\n7457\t1\t0.5\n15292\t1\t1.0\n25058\t1\t0.5\n22367\t1\t0.5\n13508\t1\t1.0\n922\t1\t0.5\n25063\t1\t1.0\n4289\t1\t1.0\n15435\t1\t0.5\n24428\t1\t0.5\n8858\t1\t1.0\n3877\t1\t0.5\n15562\t1\t1.0\n15648\t1\t0.5\n948\t1\t1.0\n17502\t1\t0.5\n6838\t1\t0.5\n10441\t1\t1.0\n17651\t1\t1.0\n11841\t1\t1.0\n9154\t1\t0.5\n13175\t1\t0.5\n23352\t1\t1.0\n15919\t1\t0.5\n10499\t1\t1.0\n3355\t1\t0.5\n22063\t1\t0.5\n15969\t1\t0.5\n8932\t1\t1.0\n11842\t1\t0.5\n1984\t1\t0.5\n18966\t1\t1.0\n6632\t1\t1.0\n15981\t1\t1.0\n12603\t1\t0.5\n20559\t1\t0.5\n24299\t1\t0.5\n1939\t1\t0.5\n6563\t1\t0.5\n16031\t1\t1.0\n21943\t1\t0.5\n24270\t1\t1.0\n23382\t1\t0.5\n18851\t1\t1.0\n9561\t1\t0.5\n3417\t1\t1.0\n3636\t1\t0.5\n21922\t1\t0.5\n8942\t1\t1.0\n1251\t1\t1.0\n4811\t1\t1.0\n24215\t1\t0.5\n25734\t1\t1.0\n447\t1\t1.0\n19872\t1\t0.5\n16212\t1\t1.0\n21717\t1\t1.0\n21534\t1\t0.5\n4538\t1\t1.0\n3218\t1\t0.5\n18918\t1\t0.5\n25112\t1\t1.0\n21448\t1\t1.0\n21444\t1\t1.0\n16368\t1\t0.5\n17596\t1\t0.5\n17892\t1\t1.0\n16438\t1\t0.5\n3821\t1\t1.0\n4566\t1\t1.0\n21282\t1\t0.5\n2668\t1\t0.5\n10205\t1\t0.5\n"
          },
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"result-alert alert-warning\" role\u003d\"alert\"\u003e\u003cbutton type\u003d\"button\" class\u003d\"close\" data-dismiss\u003d\"alert\" aria-label\u003d\"Close\"\u003e\u003cspan aria-hidden\u003d\"true\"\u003e\u0026times;\u003c/span\u003e\u003c/button\u003e\u003cstrong\u003eOutput is truncated\u003c/strong\u003e to 100 rows. Learn more about \u003cstrong\u003ezeppelin.pig.maxResult\u003c/strong\u003e\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548603043099_281074371",
      "id": "20190127-153043_537350904",
      "dateCreated": "2019-01-27 15:30:43.100",
      "dateStarted": "2019-01-27 15:44:14.301",
      "dateFinished": "2019-01-27 15:45:38.848",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "allpatients \u003d GROUP (UNION aliveevents, deadevents) BY patientid;\nallpatients1 \u003d GROUP filtered BY patientid;\nallpatients2 \u003d GROUP features BY patientid;\npatientgrouped_count \u003d FOREACH (GROUP allpatients ALL) GENERATE COUNT(allpatients);\npatientgrouped1_count \u003d FOREACH (GROUP allpatients1 ALL) GENERATE COUNT(allpatients1);\npatientgrouped2_count \u003d FOREACH (GROUP allpatients2 ALL) GENERATE COUNT(allpatients2);\nDUMP patientgrouped_count;\nDUMP patientgrouped1_count;\nDUMP patientgrouped2_count;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 16:21:47.835",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "col_0": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "(3997)\n(3565)\n(3565)\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548603194921_2087185936",
      "id": "20190127-153314_1428431853",
      "dateCreated": "2019-01-27 15:33:14.921",
      "dateStarted": "2019-01-27 16:21:47.879",
      "dateFinished": "2019-01-27 16:26:19.623",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "-- create it of the form (patientid, label) for dead and alive patients\nalivelabels \u003d FOREACH (GROUP aliveevents BY patientid) GENERATE group AS patientid, 0 AS label;\ndeadlabels \u003d  FOREACH (GROUP deadevents BY patientid) GENERATE group AS patientid, 1 AS label;\nlabels \u003d UNION alivelabels, deadlabels;\nlabels_count \u003d FOREACH (GROUP labels ALL) GENERATE COUNT(labels);\nDUMP labels_count;",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 16:54:08.243",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "patientid": "string",
                      "label": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "pig",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/pig"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "(3997)\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1548604264592_-1630234274",
      "id": "20190127-155104_2032268061",
      "dateCreated": "2019-01-27 15:51:04.592",
      "dateStarted": "2019-01-27 16:54:08.279",
      "dateFinished": "2019-01-27 16:54:57.506",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pig.query\n",
      "user": "anonymous",
      "dateUpdated": "2019-01-27 16:50:26.121",
      "config": {},
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1548607826120_-495448517",
      "id": "20190127-165026_1510201746",
      "dateCreated": "2019-01-27 16:50:26.120",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "Homework2",
  "id": "2E3G6DZ2Z",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "pig:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false,
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {}
}